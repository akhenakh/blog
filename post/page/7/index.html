<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts &middot; Fabrice Aneche</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.55.3" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Posts &middot; Fabrice Aneche">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Posts &middot; Fabrice Aneche">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://blog.nobugware.com/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Fabrice Aneche" href="https://blog.nobugware.com/index.xml" />
    <link href="https://blog.nobugware.com/css/prism.css" rel="stylesheet" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://blog.nobugware.com">Fabrice Aneche</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="http://www.nobugware.com"><i class="fa fa-building-o"></i> Hiring</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/akhenakh"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/akhenakh "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://blog.nobugware.com/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">19 Jan 2011, 16:50</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2011/01/19/all-my-digital-life/" class="post-title">All my digital life</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In a tag cloud !</p>

<p><a href="http://kdl.nobugware.com/public/wordle2.jpg"><img src="http://kdl.nobugware.com/public/wordle2.jpg" alt="" /></a></p>

<p>This tag cloud has been generated with
<a href="http://www.wordle.net/compose">Wordle</a>, the words are extracted from title&rsquo;s
posts for this services.</p>

<ul>
<li>My facebook</li>
<li>My twitter</li>
<li>My Flickr</li>
<li>My shared Google Reader articles</li>
<li>My Tumbler</li>
<li>My Picasa</li>
<li>and this blog</li>
</ul>

<p>Parsed and sorted with Python via the friendfeed json API.</p>

<p>Data since 2008-11-19, commons french or english words removed, iphone word
divide by 2 ;)</p>

<p>Thanks to <a href="http://friendfeed.com/">Friendfeed</a> service to aggregate my data,
and no thanks to Facebook for killing it.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">08 Nov 2010, 17:30</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2010/11/08/jmx-query-python-cpython/" class="post-title">JMX query in Python (CPython)</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>JMX had good intentions but the API is only implemented in Java, a Java
product for Java, with no access to the outside world.</p>

<p>Jython was one of the solution but many times I had needed to call JMX from a
CPython.</p>

<p><a href="http://jpype.sourceforge.net/">Jpype</a> solved this problem and works extremely
well.</p>

<p>Just install <a href="http://jpype.sourceforge.net/">Jpype</a> then try something like
this:</p>

<p>The execution is really really fast, faster than a jvm run ?? and memory usage
is really really slow !</p>

<pre><code>#!/usr/bin/env python2.6
import jpype
from jpype import java
from jpype import javax

HOST='gf0'
PORT=8386
USER='admin'
PASS='mypass'

URL = &quot;service:jmx:rmi:///jndi/rmi://%s:%d/jmxrmi&quot; % (HOST, PORT)
#this it the path of your libjvm /usr/lib/jvm/sun-jdk-1.6/jre/lib/amd64/server/libjvm.so on linux
jpype.startJVM(&quot;/System/Library/Frameworks/JavaVM.framework/Libraries/libjvm_compat.dylib&quot;)
java.lang.System.out.println(&quot;JVM load OK&quot;)

jhash = java.util.HashMap()
jarray=jpype.JArray(java.lang.String)([USER,PASS])
jhash.put (javax.management.remote.JMXConnector.CREDENTIALS, jarray);
jmxurl = javax.management.remote.JMXServiceURL(URL)
jmxsoc = javax.management.remote.JMXConnectorFactory.connect(jmxurl,jhash)
connection = jmxsoc.getMBeanServerConnection();


object=&quot;java.lang:type=Threading&quot;
attribute=&quot;ThreadCount&quot;
attr=connection.getAttribute(javax.management.ObjectName(object),attribute)
print  attribute, attr

#Memory is a special case the answer is a Treemap in a CompositeDataSupport
object=&quot;java.lang:type=Memory&quot;
attribute=&quot;HeapMemoryUsage&quot;
attr=connection.getAttribute(javax.management.ObjectName(object),attribute)
print attr.contents.get(&quot;used&quot;)
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">09 Aug 2010, 14:41</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2010/08/09/zfs-linux/" class="post-title">ZFS on linux</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>For license reasons (god damn GPL), ZFS can&rsquo;t be integrated into the Linux
kernel, but there is a userland fuse version called <a href="http://zfs-
fuse.net/">ZFS-FUSE</a>, so I tried to measure the fuse overhead vs others filesystems
presents on my server.</p>

<p>This tests are not benchmarks, but just show that ZFS-FUSE is fast enough and
seems to be stable (at least for my personal server)</p>

<ul>
<li>ZFS with lzjb compression
```
dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 9.93444 s, 41.2 MB/s
<br /></li>
</ul>

<p>dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 9.88071 s, 41.5 MB/s</p>

<p>dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 10.2585 s, 39.9 MB/s</p>

<pre><code>* ZFS with compression off
</code></pre>

<p>dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
 409600000 bytes (410 MB) copied, 17.2505 s, 23.7 MB/s</p>

<p>dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
 409600000 bytes (410 MB) copied, 17.0921 s, 24.0 MB/s</p>

<p>dd if=/dev/zero of=/testzfs/toto bs=2048 count=200000
 409600000 bytes (410 MB) copied, 16.8956 s, 24.2 MB/s</p>

<pre><code>
* EXT3
</code></pre>

<p>dd if=/dev/zero of=/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 9.92158 s, 41.3 MB/s</p>

<p>dd if=/dev/zero of=/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 8.50674 s, 48.2 MB/s</p>

<p>dd if=/dev/zero of=/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 9.02419 s, 45.4 MB/s</p>

<pre><code>* REISERFS (the way reiserfs works makes this big file creation faster)
</code></pre>

<p>dd if=/dev/zero of=/opt/toto bs=2048 count=200000
09600000 bytes (410 MB) copied, 2.29901 s, 178 MB/s</p>

<p>dd if=/dev/zero of=/opt/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 2.1869 s, 187 MB/s</p>

<p>dd if=/dev/zero of=/opt/toto bs=2048 count=200000
409600000 bytes (410 MB) copied, 1.9057 s, 215 MB/s
```
Also remember that FreeBSD 8.1 now includes ZFS version 14, which is a good
(native) alternative</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">09 Aug 2010, 13:44</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2010/08/09/using-oracle-django/" class="post-title">Using Oracle with Django</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In a production environment you could hit this one: DatabaseError: Invalid
handle!</p>

<p>It seems to happen when Oracle is called with OCI interface (cx_Oracle) by
multiple threads.</p>

<p>Yes using apache with MPM worker or mod_wsgi, will create threads in the same
process, by default cx_Oracle is configured to be used without threads cause
it will add a mutex and a performance hit.</p>

<p>The solution is to pass the threaded parameters to the connection string, so
in Django settings just add:</p>

<pre><code>DATABASE_OPTIONS = {
        'threaded':True
    }
</code></pre>

<p>Here is a bug in the Django documentation to changed it to threaded by default
&hellip; <a href="http://code.djangoproject.com/ticket/13351">13351</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">12 Feb 2010, 14:02</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2010/02/12/nginx-ssl-tomcat-confluence/" class="post-title">Nginx SSL &#43; Tomcat (for Confluence)</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I have an Nginx frontend to serv everything but confluence which was not happy
with my SSLized conf, here is the solution !</p>

<p>This doc is related to confluence but will works with any java apps in a
tomcat</p>

<p>First don&rsquo;t use the standalone version of confluence (which is a Tomcat 5.5),
use the EAR/WAR tar gz archive.</p>

<p>We need Tomcat 6 cause we will use a &ldquo;Valve&rdquo; <a href="http://tomcat.apa
che.org/tomcat-6.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html">RemoteIPValve</a> that
will check for a header (X-Forwarded-Proto) to see if the source request was
secured by SSL.</p>

<p>Inside tomcat server.xml simply add a Valve configuration in your Host
definition:</p>

<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot;
protocolHeader=&quot;X-Forwarded-Proto&quot;  protocolHeaderHttpsValue=&quot;https&quot; /&gt;
</code></pre>

<p>In your nginx.conf, just forward the header:</p>

<pre><code>location /confluence {
proxy_pass  http://localhost:8010;
proxy_set_header X-Forwarded-Proto  https;
proxy_set_header Host $http_host;
}
</code></pre>

<p>This is the same mechanism you will find with rails or Django and Nginx.</p>

<p>Remember to listen only on localhost with Tomcat or your nginx proxy is
useless:</p>

<pre><code>&lt;Connector address=&quot;127.0.0.1&quot; port=&quot;8010&quot; protocol=&quot;HTTP/1.1&quot;
connectionTimeout=&quot;20000&quot;
URIEncoding=&quot;UTF-8&quot;  /&gt;
</code></pre>

<p>Happy SSL !</p>

<p>Thanks to Super Chinois for the java mess.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">15 Nov 2009, 19:30</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/11/15/pourquoi-android-ne-peut-pas-gagner-la-guerre-des-smartphones/" class="post-title">Pourquoi Android ne peut pas gagner la guerre des smartphones ?</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Parce qu&rsquo;Android est une plateforme avant d&rsquo;etre un os pousse par un
constructeur:</p>

<p>En chine il sort des modeles de smartphone, supportant Android, de tres bonne
qualite, qui vont inonder les marches occidentaux dans les mois a venir.</p>

<p>Ces smartphones sont bien moins chers et le seul differenciateur grace a
Android, ne sera plus que la finition, un detail dans un marche qui vise de
plus en plus le grand public.</p>

<p>Ce qui semblait entre une formidable opportunite pour les constructeurs va
devenir un probleme pour etablir une reelle concurrence non plus entre eux,
mais face a des constructeurs chinois.</p>

<p>Les os pour smartphone etaient peu visible par le passe: Windows Mobile,
Symbian puis sont apparus iPhone OS, Pre, Android, c&rsquo;est bien le software le
differenciateur et non plus la couleur ou la forme comme sur le marche du
mobile grand public (non smartphone).</p>

<p>Les constructeurs historiques ne pourront que se desengager petit a petit de
ce choix pour eviter de ne devenir que des acteurs de second plan sur ce
marche.</p>

<p>Samsung a peut etre senti le vent tourner et annonce Bada sa nouvelle
plateforme ouverte pour les developpeurs <a href="http://www.bada.com">http://www.bada.com</a></p>

<p>Cela ne veut pas dire que l&rsquo;on ne pourra pas compter sans Android mais que les
predictions actuelles du Android Everywhere me paraissent totalement absurdes.</p>

<p>Android est une plateforme de developpement et il faut la considerer en tant
que telle, le passe nous demontre que les constructeurs mobiles ont deja
adopte qqchose de similaire: Nokia et beaucoup d&rsquo;autres ont adopte J2ME sans
pour autant arreter leurs propres outils de developpement.</p>

<p>On peut peut-etre imaginer dans un futur proche des smartphones capables
d&rsquo;executer du code Android sans reellement utiliser la brique systeme, ce qui
laisserait aux constructeurs la possibilite de proposer des fonctionnalites
differentes, mais qui rendrait chaque developpement non portable sur un autre
telephone pour aboutir a ce que nous connaissons deja avec J2ME, une
plateforme a l&rsquo;abandon du fait du manque d&rsquo;homogeneite des telephones entre
eux et donc du nivellement par le bas des fonctionnalites proposees en
standard par la bibliotheque de developpement.</p>

<p>Pour ces deux raisons Android ne sera pas le Messie attendu par tous de plus
Android est pour l&rsquo;instant incapable d&rsquo;unifier Desktop et Smartphone, la
prochaine grosse revolution informatique.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Aug 2009, 22:17</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/08/05/quand-je-ne-bosse-pas-je-vole/" class="post-title">Quand je ne bosse pas je vole</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h1 id="saitek-pro-flight-yoke-et-saitek-pro-flight-rudder-pedals">Saitek Pro Flight Yoke et Saitek Pro Flight Rudder Pedals</h1>

<p><img src="https://blog.nobugware.com/public/P1030399.JPG" alt="" /> <img src="https://blog.nobugware.com/public/P1030402.JPG" alt="" /></p>

<p><img src="https://blog.nobugware.com/public/P1030401.JPG" alt="" /></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">04 Aug 2009, 11:09</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/08/04/iphone-and-ipod-blog/" class="post-title">iPhone and iPod blog</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>Some informations for iphone developers, and iphone owners. We have created a
new iphone &amp; ipod blog in french, with a dedicated developer category: <a href="http://www.toutsurliphone.fr">tout
sur l&rsquo;iphone</a> (everything about the iPhone).</p>

<p>I will continue to write iphone development related posts here, mostly
traducted from <a href="http://www.toutsurliphone.fr">tout sur l&rsquo;iphone</a>, but if you
are a french speaker I recommend you to read the blog first and <a href="http://www.toutsurliphone.fr/dev">his developer
part</a> which will be bigger.</p>

<h4 id="iphone-development-with-3-0-1-firmware">iPhone development with 3.0.1 firmware</h4>

<p>Since security update 3.0.1 Xcode may refuse to use your updated phone.</p>

<p>You just have to show this version to Xcode, open terminal and type:</p>

<pre><code>ln -s /Developer/Platforms/iPhoneOS.platform/DeviceSupport/3.0\ \(7A341\) /Developer/Platforms/iPhoneOS.platform/DeviceSupport/3.0.1
</code></pre>

<h4 id="xcode-3-1-with-subversion-1-5">Xcode 3.1 with Subversion 1.5</h4>

<p>If you have checkouted your code with a recent svn command, xcode may not
handle it correctly due to the fact it&rsquo;s linked with a svn 1.0 version.</p>

<p>To link it with a recent library, first backup the plugin then change the
linked library path in the binaray with install_name_tool:</p>

<pre><code>install_name_tool -change /usr/lib/libsvn_client-1.0.dylib /opt/local/lib/libsvn_client-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_delta-1.0.dylib /opt/local/lib/libsvn_delta-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_diff-1.0.dylib /opt/local/lib/libsvn_diff-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_fs_fs-1.0.dylib /opt/local/lib/libsvn_fs_fs-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_fs-1.0.dylib /opt/local/lib/libsvn_fs-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_ra_local-1.0.dylib /opt/local/lib/libsvn_ra_local-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_ra_svn-1.0.dylib /opt/local/lib/libsvn_ra_svn-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_ra-1.0.dylib /opt/local/lib/libsvn_ra-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_repos-1.0.dylib /opt/local/lib/libsvn_repos-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_subr-1.0.dylib /opt/local/lib/libsvn_subr-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libsvn_wc-1.0.dylib /opt/local/lib/libsvn_wc-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libaprutil-1.0.dylib /opt/local/lib/libaprutil-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugininstall_name_tool -change /usr/lib/libaprutil-1.0.dylib /opt/local/lib/libaprutil-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugininstall_name_tool -change /usr/lib/libaprutil-1.0.dylib /opt/local/lib/libaprutil-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
install_name_tool -change /usr/lib/libapr-1.0.dylib /opt/local/lib/libapr-1.0.dylib /Developer/Library/Xcode/Plug-ins/XcodeSubversionPlugin.xcplugin/Contents/MacOS/XcodeSubversionPlugin
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Jul 2009, 10:37</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/07/31/python-26-gentoo-stable/" class="post-title">Python 2.6 in Gentoo stable</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>It was so long but python 2.6 is now in Gentoo stable, here is how to upgrade.</p>

<p>First <em>emerge &ndash;sync</em> your ports tree (as of 31st July 2009).</p>

<p>Then update your ports _emerge -upvD world _remove -p when ready.</p>

<p>When emerging python-2.6.2 it will become the main python, as you can see with
<em>eselect python list.</em></p>

<p><em>So you only have to rebuild every ports that rely on python, simple ? Yes
with python-update</em></p>

<p><em>Just run python-update It will run all the needed emerge for you (40 ports on
my server)</em></p>

<p>_Remove the old python version(s) with emerge &ndash;prune python _(Note that
removal is not mandatory, old python interpreter could coexists).</p>

<p>_Run revdep-rebuild _to be sure there is no remaining tools that depends on
libpython2.5, then you are done, restart your apache, daemons, whatever is in
Python.</p>

<p>Happy Python.</p>

<p>PS: if you are using postgresql-8.3 as stable, you will have some problems
with egenix-mx-base: a package needed by postgresql-server</p>

<p>dev-db/postgresql-server-8.3.7 (python? dev-python/egenix-mx-base)</p>

<p>There is a &ldquo;with&rdquo; parameter in a function, in 2.6 witch is a reserved keyword
solution was to update to &gt;=dev-python/egenix-mx-base-3.1.1.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Jul 2009, 19:22</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/07/28/ultimate-solaris-10-jumpstart-profile/" class="post-title">An ultimate solaris 10 jumpstart profile</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>After years of pain playing with Solaris 10 Jumpstart&rsquo;s package clusters, I
took some time to build an <strong>ultimate</strong> install profile for Solaris 10.</p>

<p>The available <a href="http://docs.sun.com/app/docs/doc/820-5235/esimo?a=view">packages
clusters</a> are :</p>

<ul>
<li><strong>SUNWCrnet</strong> is Reduced Network Support Software Group. -&gt; lack of everything, from bash to bzip</li>
<li><strong>SUNWCreq</strong> is Core System Support Software Group. -&gt; lack of bash, manpages&hellip;</li>
<li><strong>SUNWCuser</strong> is End User Solaris Software Group. -&gt; include CDE Desktop, Mozilla, etc</li>
<li><strong>SUNWCprog</strong> is Developer Solaris Software Group. -&gt; the same with libs and header files</li>
<li><strong>SUNWCall</strong> is Entire Solaris Software Group. -&gt; EVERYTHING</li>
<li><strong>SUNWCXall</strong> is Entire Solaris Software Group Plus OEM Support. -&gt; EVERYTHING with more drivers</li>
</ul>

<p>I need a system where I could compile something without graphical interface!
The SUNWCreq looks interesting but doesn&rsquo;t include o lot of usefull day-to-day
administration utilities. The next package clusters include way too many
things : choosing them for packages like GCC, you finish with xscreensaver and
Firefox !</p>

<p>I&rsquo;ve just made a profile (by reading /var/sadm/system/admin/.clustertoc) wich
include only the (quite) strict minimum, with the tools that any descent admin
needs :</p>

<blockquote>
<p>install_type initial_install</p>
</blockquote>

<p>pool rpool auto 4g 1g mirror c0t0d0s0 c0t1d0s0</p>

<h1 id="base-cluster">base cluster</h1>

<p>cluster SUNWCreq</p>

<h1 id="additional-clusters-and-packages">additional clusters and packages</h1>

<p>cluster SUNWCacc add # System accounting utilities</p>

<p>cluster SUNWCadm add # System And Network Administration (showrev etc)</p>

<p>cluster SUNWCcpc add # CPU Performance Counter driver and utilities</p>

<p>cluster SUNWCcry add # Supplemental cryptographic modules and libraries</p>

<p>cluster SUNWCfcadb add # Fibre Channel Diagnostic Macro Software</p>

<p>cluster SUNWCfwcmp add # Freeware Compression Utilities (bzip zip zlib gzip)</p>

<p>cluster SUNWCfwshl add # Freeware Shells (bash tcsh zsh)</p>

<p>cluster SUNWCfwutil add # Freeware Other Utilities (gpatch less rpm)</p>

<p>cluster SUNWCgcc add # GNU binutilis, C compiler, m4 and make</p>

<p>cluster SUNWCged add # Gigabit Ethernet Adapter Software</p>

<p>cluster SUNWCjv add # JavaVM</p>

<p>cluster SUNWCjvx add # JavaVM (64-bit)</p>

<p>cluster SUNWCldom add # Solaris Logical Domains</p>

<p>cluster SUNWClibusb add # wrapper for libusb; user level usb ugen library</p>

<p>cluster SUNWClu add # Live Upgrade Software</p>

<p>cluster SUNWCntp add # Network Time Protocol</p>

<p>cluster SUNWCopenssl add # the classical super-old Solaris OpenSSL</p>

<p>cluster SUNWCpd add # PCI drivers</p>

<p>cluster SUNWCperl add # perl5</p>

<p>cluster SUNWCpm add # Power Management Software</p>

<p>cluster SUNWCpmgr add # Patch Manager Software</p>

<p>cluster SUNWCpool add # core software for resource pools</p>

<p>cluster SUNWCptoo add # Programming tools and libraries</p>

<p>cluster SUNWCrcapu add # Solaris Resource Capping Daemon</p>

<p>cluster SUNWCsma add # Solaris Management Agent (snmpd)</p>

<p>cluster SUNWCsndm add # Sendmail</p>

<p>cluster SUNWCssh add # Secure Shell Client/Server</p>

<p>cluster SUNWCts add # Solaris Trusted Extensions</p>

<p>cluster SUNWCudf add # Universal Disk Format File System</p>

<p>cluster SUNWCusb add # USB drivers and header files</p>

<p>cluster SUNWCutf8 add # en_US.UTF-8 locale support</p>

<p>cluster SUNWCvld add # Sun Ethernet Vlan Utility</p>

<p>cluster SUNWCvol add # Volume Management</p>

<p>cluster SUNWCwget add # GNU wget</p>

<p>cluster SUNWCzone add # Solaris Zones</p>

<p>cluster SUNWpiclu add # PICL Framework, Libraries, and Plugin Modules</p>

<p>cluster SUNWsmapi add # Storage Management APIs (libdiskmgt.so)</p>

<p>cluster SUNWtlsd add # Network Security Services Development</p>

<p>package SUNWtnetc add # telnet client</p>

<p>package SUNWarc add # Lint Libraries (usr)</p>

<p>package SUNWarcr add # Lint Libraries (root)</p>

<p>package SUNWman add # On-Line Manual Pages</p>

<p>package SUNWdoc add # Documentation Tools</p>

<p>package SUNWsfwhea add # Open Source header files</p>

<p>package SUNWtoo add # Programming Tools</p>

<p>package SUNWhea add # SunOS Header Files</p>

<p>package SUNWxcu4 add # XCU4 Utilities</p>

<p>package SUNWxcu4t add # XCU4 make and sccs utilities</p>

<p>package SUNWxcu6 add # XCU6 Utilities</p>

<p>package SUNWgcmn add # gcmn - Common GNU package</p>

<p>package SUNWggrp add # ggrep - GNU grep utilities</p>

<p>package SUNWgtar add # gtar - GNU tar</p>

<p>package SUNWuiu8 add # Iconv modules for UTF-8 Locale</p>

<p>package SUNWuium add # ICONV Manual pages for UTF-8 Locale</p>

<p>package SUNWulcf add # UTF-8 Locale Environment Common Files</p>

<p>package SUNWladm add # Locale Administrator (really optional)</p>

<blockquote>
<p>package SUNWGlib add # GLIB - Library of useful routines for C programming</p>

<p>package SUNWPython-share add # python</p>

<p>package SUNWPython add # python</p>

<p>package SUNWfss add # Fair Share Scheduler</p>

<p>package SUNWscpr add # /usr/ucb tools</p>
</blockquote>

<p>package SUNWscpu add # /usr/ucb tools</p>

<p>package SUNWrsg add # needed by sshd</p>

<p>package SUNWgssdh add # needed by sshd</p>

<p>package SUNWspnego add # needed by sshd</p>

<blockquote>
<p>package SUNWbind add # host&amp;dig</p>

<p>package SUNWlibmr add # Math &amp; Microtasking Library Headers &amp; Lint Files
(Root)</p>
</blockquote>

<p>package SUNWlibm add # Math &amp; Microtasking Library Headers &amp; Lint Files (Usr)</p>

<blockquote>
<h1 id="optional-clusters-and-packages">optional clusters and packages</h1>
</blockquote>

<p>#cluster SUNWCapache add # Apache 1.3.9</p>

<p>#cluster SUNWCapch2 add # Apache 2</p>

<p>#cluster SUNWCpostgr add # PostgreSQL</p>

<p>#cluster SUNWCpostgr-82 add # PostgreSQL 8.2</p>

<p>#cluster SUNWCdhcp add # DHCPv4 Services</p>

<p>#cluster SUNWCtcat add # Tomcat Servlet/JSP Container</p>

<p>#package SUNWmysqlr add # MySQL (Root)</p>

<p>#package SUNWmysqlu add # MySQL (User)</p>

<p>To be complete, after years using <a href="http://www.sunfreeware.com/">Sunfreeware</a>
or <a href="http://www.blastwave.org/">Blastwave</a> packages, I discovered that Sun has
made a little effort to include new GNU packages in its &ldquo;Companion CD&rdquo; (I used
to throw it to the bin) like rsync, gawk, top, vim, nmap (and obviously GNU
core utils) :</p>

<p>SFWaalib SFWctags SFWethrl SFWgcc2l SFWguile SFWltool SFWnmap SFWpnm2p
SFWscrnbrltty SFWsquid SFWunison SFWxcpus SFWaconf SFWcurl SFWexpct SFWgcmn
SFWgviz SFWlynx SFWnmh SFWprcml SFWsdic SFWsudo SFWunwin SFWxdelta SFWafio
SFWcvs SFWfile SFWgd SFWimap SFWmpack SFWnpbm SFWrline SFWsdl SFWtclx SFWuudv
SFWxfce SFWamake SFWddd SFWfltk SFWgdb SFWimlib SFWmpage SFWocaml SFWrpm
SFWsed SFWtdmp SFWvim SFWxmacs SFWamnda SFWdiffu SFWfnlib SFWgfind SFWispel
SFWmpeg SFWoggl SFWrsync SFWsgrep SFWterSFWvnc SFWxmcd SFWasclk SFWemacs
SFWftchm SFWglob SFWjoe SFWmphp SFWoslp SFWruby SFWshar SFWtetex SFWvorbt
SFWxmms SFWastep SFWenscr SFWfvwm SFWgplot SFWlablgtk SFWmutt SFWpcre SFWrxvt
SFWslang SFWtnef SFWw3 SFWxpdf SFWbrl SFWespk SFWgawk SFWgroff SFWlibsane
SFWmyjdb SFWpftpd SFWsane SFWslrn SFWtop SFWwmkr SFWxterm SFWcoreu SFWespks
SFWgcal SFWgtxt SFWlpcap SFWncur SFWplotu SFWscrn SFWsnort SFWungif SFWxaw3d
SFWyasr</p>

<p>&hellip;All linked against our olds (but still maintened!) solaris libs, like
openssl 0.9.7 :-)</p>

<p>And to be complete you should also check the <a href="http://www.sun.com/software/webstack/index.xml">Glassfish
Webstack</a> packages wich
contain everything for a *AMP platform (Apache 2.2, lighttpd, &hellip;)</p>

<p>OpenSolaris has a nice <a href="http://pkg.opensolaris.org/release/en/index.shtml">package
repository</a> but&hellip; without
JET or jumpstart, at least for the moment !</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="https://blog.nobugware.com/post/page/6/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 7 of 9</span>
    
      <a href="https://blog.nobugware.com/post/page/8/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://blog.nobugware.com/js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1245966-1', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
