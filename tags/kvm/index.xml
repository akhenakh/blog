<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Kvm on Fabrice Aneche</title><link>https://blog.nobugware.com/tags/kvm/</link><description>Recent content in Kvm on Fabrice Aneche</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 14 Oct 2011 13:57:13 -0400</lastBuildDate><atom:link href="https://blog.nobugware.com/tags/kvm/index.xml" rel="self" type="application/rss+xml"/><item><title>FreeBSD 9.0 guest with virtio support in KVM</title><link>https://blog.nobugware.com/post/2011/10/14/freebsd-90-guest-virtio-support-in-kvm/</link><pubDate>Fri, 14 Oct 2011 13:57:13 -0400</pubDate><guid>https://blog.nobugware.com/post/2011/10/14/freebsd-90-guest-virtio-support-in-kvm/</guid><description>Performance are really bad for FreeBSD in KVM, one solution is to use paravirtualized driver, virIO.
At the time of writing FreeBSD 9.0 is beta 3 and the last commit in the virtio project is 225710
cd /usr/src/sys/dev svn co http://svn.freebsd.org/base/projects/virtio/sys/dev/virtio cd /usr/src/sys/modules svn co http://svn.freebsd.org/base/projects/virtio/sys/modules/virtio cd /usr/src/sys/modules/virtio make install add this to /boot/loader.conf
virtio_load=&amp;quot;YES&amp;quot; virtio_pci_load=&amp;quot;YES&amp;quot; virtio_blk_load=&amp;quot;YES&amp;quot; if_vtnet_load=&amp;quot;YES&amp;quot; virtio_balloon_load=&amp;quot;YES&amp;quot; # dmesg | grep -i virtio vtnet0: on virtio_pci0 virtio_pci1: port 0xc060-0xc07f irq 11 at device 4.</description></item></channel></rss>