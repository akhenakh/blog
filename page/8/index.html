<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabrice Aneche &middot; Fabrice Aneche</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.55.3" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Fabrice Aneche &middot; Fabrice Aneche">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Fabrice Aneche &middot; Fabrice Aneche">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://blog.nobugware.com/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Fabrice Aneche" href="https://blog.nobugware.com/index.xml" />
    <link href="https://blog.nobugware.com/css/prism.css" rel="stylesheet" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://blog.nobugware.com">Fabrice Aneche</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="http://www.nobugware.com"><i class="fa fa-building-o"></i> Hiring</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/akhenakh"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/akhenakh "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://blog.nobugware.com/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">28 Jun 2009, 12:46</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/06/28/use-trac-browser-jira/" class="post-title">Use Trac source browser with Jira</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Jira is a nice product for issue tracking linked to a SCM repository, yes it&rsquo;s
not free software but they provide a 5$ starter license for 5 users.</p>

<p>But Jira lacks of a part that <a href="http://trac.edgewall.org/">trac</a> is doing very
well, source browser, in facts Atlassian provides one:
<a href="http://www.atlassian.com/software/fisheye/">Fisheye</a> but it&rsquo;s really
expensive</p>

<p>Simply go to your Jira Administration,  on the left click on Subversion
Repositories (this menu appears after the installation of the subversion&rsquo;s
plugin).</p>

<p>Edit your SVN repository entry to match this:</p>

<p><strong>Changeset Format</strong>: <a href="https://yourhost/projects/myproject/changeset/${rev">https://yourhost/projects/myproject/changeset/${rev</a>}<br />
<strong>File Added Format</strong>: <a href="https://yourhost/projects/myproject/browser/${path}?rev=${rev">https://yourhost/projects/myproject/browser/${path}?rev=${rev</a>}<br />
<strong>File Modified Format</strong>: <a href="https://yourhost/projects/myproject/changeset/${rev}/${path">https://yourhost/projects/myproject/changeset/${rev}/${path</a>}</p>

<p>myproject is just the base url of a trac project which is configured to work
from the root of the SVN repository.</p>

<p>from trac.ini</p>

<p>repository_dir = /opt/data/svn/repos/</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 May 2009, 23:31</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/05/01/mercurial-usefull-stuff/" class="post-title">mercurial usefull stuff</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>Using mercurial for the beginner may sounds scarry here are fast tips</p>

<ul>
<li><p>Edit ~/.hgrc</p>

<p>## This is a Mercurial configuration file.
[ui]
username = Your Name</p>

<p>#enable ssh compression
ssh = ssh -C</p>

<p>[extensions]</p>

<h1 id="enable-hg-convert-to-import-you-old-svn-repository">enable hg convert to import you old svn repository</h1>

<p>hgext.convert=</p>

<p>#enable hg glog command
hgext.graphlog =</p>

<h1 id="enable-color-diff-need-mercurial-1-1">enable color diff, need mercurial &gt;=1.1</h1>

<p>color=</p>

<h1 id="enable-visual-filemerge-on-osx">enable visual filemerge on OsX</h1>

<p>[merge-tools]
filemerge.executable=opendiff
filemerge.args=$other $local -ancestor $base -merge $output
filemerge.gui=True</p></li>

<li><p>At the root of you repository add .hgignore (and commit it) <em>hg add .hgignore</em>,_ hg commit<em>,</em> hg push_</p>

<p>syntax: glob</p>

<p>.DS_Store</p>

<h1 id="xcode">Xcode</h1>

<p>*.swp
*~.nib
build
*.pbxuser
*.perspective
*.perspectivev3</p>

<h1 id="python">Python</h1>

<p>*.py[oc]c</p>

<h1 id="no-subversion-directories">no subversion directories</h1>

<p>.svn</p>

<p>#others
*~</p></li>

<li><p>Remember to <em>hg update</em> after a pull or use <em>hg pull -u</em></p></li>

<li><p>Use <em>hg glog</em></p>

<p>@    changeset:   4:1961f87e1d05
|\   tag:         tip
| |  parent:      2:fb59b74f6239
| |  parent:      3:18393dd152ee
| |  user:        ME
| |  date:        Fri May 01 23:22:23 2009 +0200
| |  summary:     resolve conflicts
| |
| o  changeset:   3:18393dd152ee
| |  parent:      1:c8785a6f41ec
| |  user:        ME
| |  date:        Fri May 01 15:44:25 2009 +0200
| |  summary:     change helloworld to use tag
| |
o |  changeset:   2:fb59b74f6239
|/   user:        ME
|    date:        Fri May 01 23:12:21 2009 +0200
|    summary:     add the super killer app
|
o  changeset:   1:c8785a6f41ec
|  user:        ME
|  date:        Thu Apr 30 01:23:17 2009 +0200
|  summary:     add my exercices
|
o  changeset:   0:a2883c1a5659
   user:        ME
   date:        Thu Apr 30 01:14:57 2009 +0200
   summary:     first version of chatclient socket is working</p></li>

<li><p>Use <em>hg rollback</em> when something go wrong (only last commit)</p></li>

<li><p>Do not use <em>hg push -f</em> if &ldquo;abort: push creates new remote heads!&ldquo;, Try <em>hg merge</em> and <em>hg update &ndash;all</em> if conflicts occurs, <em>hg commit</em>, then <em>hg push</em></p></li>

<li><p>Force a merge with my files or their files:</p>

<p>HGMERGE=internal:local hg merge  #keep my files
HGMERGE=internal:other hg merge  #keep their files</p></li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">11 Mar 2009, 22:44</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/03/11/better-nslog/" class="post-title">A better NSLog</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When debugging, I often found that NSLog is really boring, here is an attempt
to make it nicer:</p>

<p>`</p>

<pre><code>NSLog(@&quot;mycar: %@&quot;,myCar);
NSLog(@&quot; I'M HERE &quot;);
</code></pre>

<p>`</p>

<p>NSLog doesn&rsquo;t tell you where the call was made (which file or which method),
so you end with a lot of:</p>

<blockquote>
<p>2009-03-11 22:30:53.789 ObjCTest[1565:10b] mycar: Porsche</p>

<p>2009-03-11 22:30:53.791 ObjCTest[1565:10b] I&rsquo;M HERE</p>
</blockquote>

<p>A better NSLog could tell us:</p>

<blockquote>
<p>2009-03-11 22:32:25.823 ObjCTest[1581:10b] <strong>Car.m:32 -[Car init]</strong> I&rsquo;M HERE
AND I KNOW WHERE I AM</p>
</blockquote>

<p>Now we have the sourcefile, the linenumber and the method of the call !!</p>

<p>Another repeating action when debugging is just to look for the value of
something (call the description method of an object)</p>

<p>`</p>

<pre><code>NSLog(myCar);
NSLog(@&quot;%@&quot;,myCar);
</code></pre>

<p>`</p>

<p>That will produce:</p>

<blockquote>
<p>2009-03-11 22:38:22.707 ObjCTest[1625:10b] Porsche</p>
</blockquote>

<p>Not really sexy, no filename, no name for that value &hellip; a better answer could
be:</p>

<blockquote>
<p>2009-03-11 22:38:22.708 ObjCTest[1625:10b] <strong>Car.m:35 -[Car init] [myCar
description] =</strong> Porsche</p>
</blockquote>

<p>To enable this &ldquo;better&rdquo; NSLog, in the Source folder of your Xcode you will
find a file named YOURAPPNAME_Prefix.pch add the following code</p>

<p>`</p>

<pre><code>#include &lt;libgen.h&gt;
#define ALog(format, ...) NSLog([NSString stringWithFormat:@&quot;%s:%d %s %@&quot;,basename(__FILE__),__LINE__,__FUNCTION__,format], ##__VA_ARGS__)
#define ALogv(var) NSLog([NSString stringWithFormat:@&quot;%s:%d %s [&quot; # var &quot; description] = %@&quot;,basename(__FILE__),__LINE__,__FUNCTION__, var] )
</code></pre>

<p>`</p>

<p>A much better solution is to associated it with a DEBUG define, and put
&lsquo;-DDEBUG=1&rsquo; it in &ldquo;Other C Flags&rdquo; in Xcode Debug configuration, <a href="http://iphoneincubator.com/blog/debugging/how-to-create-conditional-log-
statements-in-xcode">explained
here</a>, it will remove all calls to ALog when buit for release.</p>

<p>`</p>

<pre><code>#ifdef DEBUG
#include &lt;libgen.h&gt;
#define ALog(format, ...) NSLog([NSString stringWithFormat:@&quot;%s:%d %s %@&quot;,basename(__FILE__),__LINE__,__FUNCTION__,format], ##__VA_ARGS__)
#define ALogv(var) NSLog([NSString stringWithFormat:@&quot;%s:%d %s [&quot; # var &quot; description] = %@&quot;,basename(__FILE__),__LINE__,__FUNCTION__, var] )
#else
#define ALog(...) /* */
#define ALogv(var) /* */
#endif
</code></pre>

<p>`</p>

<p>Then call ALog rather than NSLog and ALogv for the variable name and his
value:</p>

<p>`</p>

<pre><code>  ALog(@&quot;mycar: %@&quot;, myCar);
  ALogv(myCar);

2009-03-11 22:38:22.706 ObjCTest[1625:10b] Car.m:33 -[Car init] mycar: Porsche
2009-03-11 22:38:22.708 ObjCTest[1625:10b] Car.m:35 -[Car init] [myCar description] = Porsche
</code></pre>

<p>`</p>

<p>Feel free to change the name of this functions.</p>

<p>Bye Bye NSLog.</p>

<p>EDIT: here is the update version I&rsquo;m using</p>

<blockquote>
<p>2009-07-31 12:22:46.070 WheelOfFate[30351:20b]
[WheelBrowserViewController.m:26 initWithStyle:] myWheelStorage=<WheelStorage:
0xd134a0></p>
</blockquote>

<p>What is this strange method ? In fact this is just
[TheFileWhereTheMethodeWasCalled:TheLineNumberTheMethodWasCalled TheMethod],
it sounds strange but it takes less space on debug console, warning sometimes
where you define multiple class in same file it could fool you.</p>

<p>Why DLog instead of ALog ? Just run xcode and type dl <Echap> you will see
that there is no completion for DL letters &hellip;</p>

<p>What is this new ALogm method (Log Method) ? Sometimes you just need to
display &ldquo;the application has gone here&rdquo; without any others informations.</p>

<p>`</p>

<pre><code>#ifdef DEBUG
#include &lt;libgen.h&gt;
#define DLogm() NSLog([NSString stringWithFormat:@&quot;[%s:%d %@]&quot;,basename(__FILE__),__LINE__,NSStringFromSelector(_cmd)])
#define DLog(format, ...) NSLog([NSString stringWithFormat:@&quot;[%s:%d %@] %@&quot;,basename(__FILE__),__LINE__,NSStringFromSelector(_cmd),format], ##__VA_ARGS__)
#define DLogv(var) NSLog([NSString stringWithFormat:@&quot;[%s:%d %@] &quot;# var &quot;=%@&quot;,basename(__FILE__),__LINE__,NSStringFromSelector(_cmd), var] )
#else
#define DLog(...) /* */
#define DLogv(var) /* */
#define DLogm() /* */
#endif
</code></pre>

<p>`</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">26 Feb 2009, 11:37</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/02/26/understanding-zfs-tuning/" class="post-title">Understanding the ZFS tuning</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h4 id="zfs-is-all-about-performance-many-levels-of-caching-pre-fetch-and">ZFS is all about performance (many levels of caching, pre-fetch, &hellip;) and</h4>

<p>memory consumption :-)</p>

<h4 id="here-are-my-last-links-about-zfs">Here are my last links about ZFS</h4>

<p><a href="http://src.opensolaris.org/source/xref/onnv/onnv-
gate/usr/src/cmd/mdb/common/modules/zfs/zfs.c#333">internals</a>, it&rsquo;s worth a read if you
plan to use ZFS on large productions :</p>

<ul>
<li><p>The slides of Adam Leventhal&rsquo;s talk for the OpenSolaris Storage Summit : <a href="http://blogs.sun.com/ahl/entry/hsp_talk_at_the_opensolaris">ZFS, Cache, and Flash</a></p></li>

<li><p>c0t0d0s0.org : a very good explanation of the ARC cache : most recently used pages, most frequently used pages and their ghosts lists <a href="http://www.c0t0d0s0.org/archives/5329-Some-insight-into-the-read-cache-of-ZFS-or-The-ARC.html">Some insight into the read cache of ZFS - or: The ARC</a> and the [](<a href="http://www.c0t0d0s0.org/archives/5329-Some-insight-into-the-read-cache-of-ZFS-or-The-ARC.html)[writing">http://www.c0t0d0s0.org/archives/5329-Some-insight-into-the-read-cache-of-ZFS-or-The-ARC.html)[writing</a> side](<a href="http://www.c0t0d0s0.org/archives/5343-Insights-into-ZFS-today-The-nature-of-writing-things.html#extended">http://www.c0t0d0s0.org/archives/5343-Insights-into-ZFS-today-The-nature-of-writing-things.html#extended</a>)</p></li>

<li><p>The <a href="http://www.cuddletech.com/blog/pivot/entry.php?id=979">arc_summary.pl</a> tool is very useful for analysis, made by Ben Rockwood with the kstat counters.</p></li>

<li><p>Also by Ben Rockwood : <a href="http://wikis.sun.com/download/attachments/63226450/ZFSintheTrenches.pdf">ZFS in the Trenches</a> is an overview of a real-life-production usage of ZFS : interesting counters and tuning hints at the different levels (monitoring, ARC, ZIL, Physical I/O, backup &amp; replication), useful tools, and experience sharing. <strong>A must-read !</strong></p></li>

<li><p>And before anything, always refer to the <a href="http://www.solarisinternals.com/wiki/index.php/ZFS_Best_Practices_Guide">ZFS Best Practices Guide</a> of solarisinternals.com</p></li>
</ul>

<p>If you have some interesting links about ZFS too, share them with us in the
comments !</p>

<p>Thomas</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">17 Feb 2009, 11:35</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/02/17/virtualbox-nat-ssh-guest/" class="post-title">Virtualbox NAT ssh to guest</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In NAT mode (the default one), virtualbox does not give you the possibility to
directly connect to your guest os.</p>

<p>Here is how to configure your Virtualbox to simply ssh myguest</p>

<p>For example my guest is called &ldquo;Solaris10u6&rdquo;, configured to used e1000 card,
the default in solaris configuration, (The host os is a Mac).</p>

<p>Type this command in terminal:</p>

<p>`VBoxManage setextradata Solaris10u6
&ldquo;VBoxInternal/Devices/e1000/0/LUN#0/Config/ssh/Protocol&rdquo; TCP</p>

<p>VBoxManage setextradata Solaris10u6
&ldquo;VBoxInternal/Devices/e1000/0/LUN#0/Config/ssh/GuestPort&rdquo; 22</p>

<p>VBoxManage setextradata Solaris10u6
&ldquo;VBoxInternal/Devices/e1000/0/LUN#0/Config/ssh/HostPort&rdquo; 2222 `</p>

<p>It stands for redirect all connection to TCP port 2222 from the host os (my
mac) to the port 22 of the guest (my solaris).</p>

<p>To connect to your Virtual machine guest simply do ssh -p 2222 localhost and
you are in.</p>

<p>If you want to check all the config applied to a guest type in terminal:</p>

<p><code>VBoxManage getextradata Solaris10u6 enumerate</code></p>

<p>By the way if you get this kind of errors:</p>

<blockquote>
<p>Configuration error: Failed to get the &ldquo;MAC&rdquo; value
(VERR_CFGM_VALUE_NOT_FOUND).</p>
</blockquote>

<p>It means you have set the config to a network adapter which is not the one
used by your guest for example, this wil raise an error when you will start
the vm if you are using a e1000 adapter:</p>

<p><code>VBoxManage setextradata Solaris10u6
&quot;VBoxInternal/Devices/pcnet/0/LUN#0/Config/ssh/Protocol&quot; TCP</code></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">09 Feb 2009, 14:51</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/02/09/late-un-nouveau-scheduler-mapreduce/" class="post-title">LATE : un nouveau scheduler MapReduce</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p><a href="http://www.use
nix.com/events/osdi08/tech/full_papers/zaharia/zaharia_html/index.html">Improving MapReduce Performance in Heterogeneous Environments</a></p>

<blockquote>
<p>&rdquo; MapReduce is emerging as an important programming model for large-scale
data-parallel applications such as web indexing, data mining, and scientific
simulation. Hadoop is an open-source implementation of MapReduce enjoying wide
adoption and is often used for short jobs where low response time is critical.
Hadoop&rsquo;s performance is closely tied to its task scheduler, which implicitly
assumes that cluster nodes are homogeneous and tasks make progress linearly,
and uses these assumptions to decide when to speculatively re-execute tasks
that appear to be stragglers. In practice, the homogeneity assumptions do not
always hold. An especially compelling setting where this occurs is a
virtualized data center, such as Amazon&rsquo;s Elastic Compute Cloud (EC2). We show
that Hadoop&rsquo;s scheduler can cause severe performance degradation in
heterogeneous environments. We design a new scheduling algorithm, Longest
Approximate Time to End (LATE), that is highly robust to heterogeneity. LATE
can improve Hadoop response times by a factor of 2 in clusters of 200 virtual
machines on EC2.&rdquo;</p>
</blockquote>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Jan 2009, 20:34</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/01/27/xcode-raccourcis-important/" class="post-title">Xcode raccourcis important</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <ul>
<li><p>Pour changer le nom MyCompanyName dans votre source code:<code>
defaults write com.apple.Xcode PBXCustomTemplateMacroDefinitions
'{ORGANIZATIONNAME = &quot;Nobugware&quot;; }'</code></p></li>

<li><p>⌘[ et ⌘] pour indenter a droite ou a gauche</p></li>

<li><p>⌃/ pour passer d&rsquo;un champ a l&rsquo;autre quand xcode vous propose la completion d&rsquo;une methode avec plusieurs arguments (⌃⇧/ clavier fr)</p></li>

<li><p>⌥⌘↑ (alt shift curseur haut) passe du fichier .m au .h</p></li>

<li><p>⌘⇧D Open Quickly, permet d&rsquo;ouvrir un popup de rechercher pour ouvrir rapidement un fichier</p></li>

<li><p>⌘d ajouter un bookmark</p></li>

<li><p>^⌘? ouvre Research assistant, une petite fenetre geniale qui vous affiche des aides en fonction du mot sous votre curseur</p></li>

<li><p>⌘↵ Compile and Run, ⌘y compile and debug, ⌘⇧y affiche le debugger</p></li>

<li><p>⌃⌘S faire un snapshot du code</p></li>

<li><p>⌃⇧1 pour acceder a la liste des fichiers ouverts</p></li>

<li><p>⌃⇧2 pour acceder a la liste des fonctions/methods/symbols du fichier en cours</p></li>

<li><p>⌘/ comment, uncomment</p></li>
</ul>

<p>⌃ = ctrl</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Jan 2009, 10:04</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2009/01/05/happy-new-year/" class="post-title">Happy new year</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>新年快乐 كل عام وأنتم بخير שנה טובה</p>

<p>Un moyen comme un autre de tester l&rsquo;utf8 ;)</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">22 Dec 2008, 14:42</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2008/12/22/nsthread-iphone-template/" class="post-title">NSThread iPhone Template</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>This is firstly a reminder for myself, here is a great example how to fire up
a thread to perform long operation on iphone, without blocking reactivity.</p>

<p><a href="http://www.stanford.edu/class/cs193p/cgi-bin/index.php">Stanford CS 193P iPhone application
programming</a> is still
the best place to find optimised example that works.</p>

<p>All this examples was taken from this courses, see chap 10 &amp; 11 about
TableView optimisation</p>

<p>`</p>

<pre><code>//  LetsMakeAThreadAppDelegate.m
//  LetsMakeAThread
//
//  Created by Evan Doll on 10/27/08.

#import &quot;LetsMakeAThreadAppDelegate.h&quot;

@implementation LetsMakeAThreadAppDelegate

@synthesize window;
@synthesize spinner;
@synthesize answerLabel;
@synthesize button;

- (void)applicationDidFinishLaunching:(UIApplication *)application {
    answerLabel.text = @&quot;&quot;;

    // Override point for customization after application launch
    [window makeKeyAndVisible];
}

- (IBAction)beginDeepThought:(id)sender
{
    [spinner startAnimating];
    button.hidden = YES;

    [NSThread detachNewThreadSelector:@selector(backgroundThinking) toTarget:self withObject:nil];
}

- (void)backgroundThinking
{
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
    [NSThread sleepForTimeInterval:5];
    [self performSelectorOnMainThread:@selector(didFindAnswer:) withObject:@&quot;42&quot; waitUntilDone:NO];
    [pool release];
}

- (void)didFindAnswer:(NSString *)answer
{
    [spinner stopAnimating];
    answerLabel.text = answer;
}

- (void)dealloc {
    [window release];
    [spinner release];
    [answerLabel release];
    [button release];

    [super dealloc];
}

@end
</code></pre>

<p>`</p>

<p>By the way here is how to set a lock and how to implement a little cache for
loaded pictures (cachedImages is a NSDictionary, ImageLoadingOperation a
subclass of NSOperation)</p>

<p>`</p>

<pre><code>- (void)someMethod
{
        [myLock lock];
        // We only want one thread executing this code at once
        [myLock unlock]
}

- (UIImage *)cachedImageForURL:(NSURL *)url
{
    id cachedObject = [cachedImages objectForKey:url];
    if (cachedObject == nil) {
        // Set the loading placeholder in our cache dictionary.
        [cachedImages setObject:LoadingPlaceholder forKey:url];

        // Create and enqueue a new image loading operation
        ImageLoadingOperation *operation = [[ImageLoadingOperation alloc] initWithImageURL:url target:self action:@selector(didFinishLoadingImageWithResult:)];
        [operationQueue addOperation:operation];
        [operation release];
    } else if (![cachedObject isKindOfClass:[UIImage class]]) {
        // We're already loading the image. Don't kick off another request.
        cachedObject = nil;
    }

    return cachedObject;
}

- (void)didFinishLoadingImageWithResult:(NSDictionary *)result
{
    NSURL *url = [result objectForKey:@&quot;url&quot;];
    UIImage *image = [result objectForKey:@&quot;image&quot;];

    // Store the image in our cache.
    // One way to enhance this application further would be to purge images that haven't been used lately,
    // or to purge aggressively in response to a memory warning.
    [cachedImages setObject:image forKey:url];

    [self.tableView reloadData];
}
</code></pre>

<p>`</p>

<p>As you can see @selector can send only one object, here is a quick tips: just
put all your objects into a NSArray or NSDict then send it back with
withObject:.</p>

<p>`</p>

<pre><code>// Package it up to send back to our target.
NSDictionary *result = [NSDictionary dictionaryWithObjectsAndKeys:image, ImageResultKey, imageURL, URLResultKey, nil];
[target performSelectorOnMainThread:action withObject:result waitUntilDone:NO];
</code></pre>

<p>`</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">16 Dec 2008, 21:25</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2008/12/16/un-peu-de-statistiques/" class="post-title">Un peu de statistiques</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Comment lisez vous ce blog ?</p>

<p>Pour le feed RSS:</p>

<ul>
<li>18 29 a lire ce blog dans Google Reader</li>
<li>2 dans Bloglines</li>
<li>5 a lire le RSS via un browser</li>
</ul>

<p>Pour le site web sur un an 30 410 visites, soit une centaine de visite par
jour, 80% des lecteurs ne viennent qu&rsquo;une fois.</p>

<p>Un page rank de 3: 75% du traffic pour le site web vient de Google.</p>

<ul>
<li>20% etant en rapport avec les mots clefs symbian ou s60</li>
<li>4 % avec PS3</li>
<li>2 % avec Django</li>
</ul>

<p>Ce qui ne reflete pas du tout le contenu de ce site <a href="https://blog.nobugware.com/tags">(voir nuage de
tag)</a></p>

<p>Un taux de rebond de 75% donc les gens ne sont pas acheminer au bon endroit ou
le contenu est nul</p>

<p>Geographiquement:</p>

<ul>
<li>La France represente 50% du traffic</li>
<li>les US 12%</li>
<li>l&rsquo;Algerie 3.72%</li>
<li>la Belgique 3.28%</li>
<li>UK 2.53%</li>
<li>le Maroc 2.50%</li>
<li>le Canada 2.35%</li>
</ul>

<p><img src="https://blog.nobugware.com/public/statsdjango.jpg" alt="" /></p>

<p>Sur cette image l&rsquo;effet <a href="https://blog.nobugware.com/post/2008/02/19/Usefull-tips-
to-start-a-new-project-with-Django">un article sur Django</a> qui a engendre 2000 visites en deux jours
(venant essentiellement de reddit et dzone), le seul article que j&rsquo;ai annonce
dans qqs sites techniques.</p>

<p>Conclusion:</p>

<ul>
<li>Pour un site qui me sert a la base de bookmark, je suis assez content de cette audience :)</li>
<li>Sans travailler le referencement vous meme, les sujets principaux de votre site ne sont pas correctement exposes</li>
<li>Google est une sombre merde incapable d&rsquo;acheminer correctement des lecteurs vers l&rsquo;information: un article sur Django est tres lu des lors que je l&rsquo;expose mais d&rsquo;autres articles sur le meme sujet ne sont pas vu (malgre un sitemap en place depuis bien longtemps)</li>
<li>Le contenant est bien plus important que le contenu, le net ressemble de plus en plus a la tele</li>
</ul>

<p>Google fonctionne tres mal, peu importe le contenu de votre site, etre lu est
un travail non pas de redaction mais de bidouillages Google &trade;.</p>

<p>Merci a tous et bonjour le Maghreb :)</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="https://blog.nobugware.com/page/7/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 8 of 9</span>
    
      <a href="https://blog.nobugware.com/page/9/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://blog.nobugware.com/js/all.min.js"></script>
        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1245966-1', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
