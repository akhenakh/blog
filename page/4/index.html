<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabrice Aneche &middot; Fabrice Aneche</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.55.3" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Fabrice Aneche &middot; Fabrice Aneche">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Fabrice Aneche &middot; Fabrice Aneche">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://blog.nobugware.com/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Fabrice Aneche" href="https://blog.nobugware.com/index.xml" />
    <link href="https://blog.nobugware.com/css/prism.css" rel="stylesheet" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://blog.nobugware.com">Fabrice Aneche</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="http://www.nobugware.com"><i class="fa fa-building-o"></i> Hiring</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/akhenakh"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/akhenakh "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://blog.nobugware.com/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">02 Aug 2015, 16:26</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2015/internet_access_power_outage_disaster_free/" class="post-title">Offering free internet well almost and survive disaster, power outage, Internet blackout</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>In my neighborhood, I&rsquo;m experimenting to give free access to some services, not the full internet but a full access to Wikipedia, maps&hellip;<br />
Here are some tips do to the same.</p>

<p>Getting access to the internet may be crucial for our lives, but the commercial providers are here to make money out of it.
They don&rsquo;t event provide disasters nor minimum safety access.</p>

<p>Sometimes even in normal condition, while traveling your roaming will cost you hundreds just to get access to a map or Wikipedia.</p>

<p>With a simple RaspberryPi, a wifi antenna and a good geographical position you can reach hundreds of people.</p>

<h2 id="wifi">Wifi</h2>

<p>To serve wifi to others you need to get a wifi USB dongle that can be set in AP mode.<br />
I&rsquo;m using an Alfa network one.</p>

<p>To enable the AP mode you need to install the package <code>hostapd</code>. Here is my <code>/etc/hostapd/hostapd.conf</code>.</p>

<pre><code>ssid=freewifi
interface=wlan0
auth_algs=3
channel=7
hw_mode=b
logger_stdout=-1
logger_stdout_level=2
country_code=CA
</code></pre>

<p>(Always ensure you are using the correct country to avoid disturbing others and look for a free channel.)</p>

<p>You also need a DNS &amp; DCHP provider, install <code>dnsmasq</code>, my <code>/etc/dnsmasq.conf</code>.</p>

<pre><code>no-resolv
no-poll
server=/localnet/10.4.0.1
address=/#/10.4.0.1
interface=wlan0
bind-interfaces
dhcp-range=10.4.0.10,10.4.0.200,12h
</code></pre>

<p>It means all DNS queries will be intercepted and will respond with the same IP 10.4.0.1, by extend every HTTP request will be redirected to 10.4.0.1.</p>

<p>Enable the same IP on the vlan0 interface.<br />
<code>ifconfig wlan0 10.4.0.1</code></p>

<p>You are all set, no need for NAT no need for routing, we just want to provide access to Wikipedia.</p>

<h2 id="content">Content</h2>

<p>I&rsquo;m using <a href="http://akhenakh.github.io/gozim/">Gozim</a> to run a full offline copy of Wikipedia. (For example, make it listen on port 8080)</p>

<p>Install nginx to reverse proxy to your content to a fake domain call <code>wikipedia.wifi</code> (port 8080) or serve any directories you want to be published.</p>

<h2 id="wispr">Wispr</h2>

<p>Another issue while running your own wifi AP is that these days almost all traffic is secured by HTTPS so there is no way to intercept these calls with the right certificates, the users will just get a security error page.<br />
To solve that you need to display a popup page like the one you get when you connect to a Starbucks free wifi network.</p>

<p>I&rsquo;m working on a set of tool to do just that, uninstall <code>nginx</code> and give it a shot the project is called <a href="http://github.com/akhenakh/wisprgo">WisprGo and the code is on Github too</a>.<br />
It&rsquo;s a work in progress any help is appreciated.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">02 Aug 2015, 13:10</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2015/metrics_golang_operating_system/" class="post-title">Access OS metrics from Golang</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Golang" href="https://blog.nobugware.com/categories/golang">Golang</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I&rsquo;ve recently published <a href="https://github.com/akhenakh/statgo">StatGo</a>, it gives you access to your operating system metrics like free memory, used disk spaces &hellip;</p>

<p>It&rsquo;s a binding to the C library <a href="http://www.i-scream.org/libstatgrab/">libstatgrab</a>, a proven stable piece of code that works on many different systems, FreeBSD, Linux, OSX &hellip;</p>

<p>It&rsquo;s very simple to use:</p>

<pre><code class="language-go">s := NewStat()
c := s.CPUStats()
fmt.Prinln(c.Idle)
98.2
</code></pre>

<p>Feel free to contribute, it may need some improvement but it&rsquo;s working I&rsquo;m using it in a small metrics web server to monitor small network of servers.</p>

<p>The <a href="https://github.com/akhenakh/statgo">code is on Github</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">02 Aug 2015, 00:32</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/hugo_blog_github/" class="post-title">Host your blog on Github with autodeploy</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>I&rsquo;ve always developed my own blog system, that&rsquo;s a good way to learn a new langage.<br />
But having to maintain a working server or hosting is no fun, there are some solutions like <a href="http://jekyllrb.com/">Jekyll</a> or <a href="http://gohugo.io/">Hugo</a> they generate static web pages based on some Markdown files you wrote.</p>

<p>As it&rsquo;s just basic html files, they can be served by Github gh-pages.<br />
It opens the door to blogging from anywhere without internet connection or your own laptop, just write some Markdown then publish to github later or event edit your new blog post from the Github editor.<br />
Coupled with a <a href="http://wercker.com/">Wercker</a> auto deploy, publishing is automated, no excuse anymore.</p>

<p>Here is some tips for this to work smoothly with Hugo.</p>

<h2 id="github-setup">Github setup</h2>

<p>First create 2 repositories on Github, one for the HTML pages, one for the markdown itself.<br />
Let&rsquo;s call them <code>blog</code> &amp; <code>hugo-blog</code>.</p>

<h2 id="dns-setup">DNS setup</h2>

<p>You can use your own domain, if so you need to <a href="https://help.github.com/articles/adding-a-cname-file-to-your-repository/">enable a CNAME file for your gh-pages</a> to the <code>blog</code> repo, then add a CNAME to your DNS provider:<br />
<code>blog.mydomain.com. IN   CNAME   username.github.io.</code></p>

<h2 id="hugo-setup">Hugo setup</h2>

<p>Clone the <code>hugo-blog</code> repo, put your new hugo blog files in it (created via <code>hugo new</code>).<br />
<a href="http://gohugo.io/themes/overview/">Choose a theme for your blog</a> (don&rsquo;t forger to remove the <code>.git</code> directory from it) and set it up in your config.yml as follow:</p>

<pre><code>baseurl = &quot;http://blog.mydomain.com/&quot;
languageCode = &quot;en-us&quot;
title = &quot;My supa blog&quot;
canonifyurls = true
theme = &quot;hyde&quot;
</code></pre>

<p>Then run <code>hugo server --buildDrafts</code>, point your browser to <a href="http://localhost:1313">http://localhost:1313</a>, no need to reload all modifications appear directly.</p>

<h2 id="wercker-setup">Wercker setup</h2>

<p>For the auto deploy to occur after each commits you need a build &amp; deploy system, <a href="http://wercker.com/">Wercker</a> is very cool as you can reproduce the exact same system on your host with Docker, subscribe to the service (it&rsquo;s free) and register your <code>hugo-blog</code> repo, hit next, next &hellip;</p>

<p>Add a <code>wercker.yml</code> file in your <code>hugo-blog</code> that looks exactly like this.</p>

<pre><code>box: debian
build:
  steps:
    - arjen/hugo-build:
        version: &quot;0.14&quot;
        theme: purehugo
        flags: --disableSitemap=true
deploy :
  steps :
    - script:
        name: Configure git
        code: |-
          sudo apt-get -y update
          sudo apt-get -y install git-core
          git config --global user.email &quot;pleasemailus@wercker.com&quot;
          git config --global user.name &quot;wercker&quot;

          # remove current .git folder
          rm -rf .git
    - script:
        name: Deploy to Github pages
        code: |-
          cd public
          # if you are using a custom domain set it here
          echo &quot;blog.mydomain.com&quot; &gt; CNAME
          git init
          git add .
          git commit -m &quot;deploy commit from $WERCKER_STARTED_BY&quot;
          git push -f $GIT_REMOTE master:gh-pages 2&gt; /dev/null
</code></pre>

<p>It will use Hugo to generate the pages then deploy to your Github repo on every commit to the <code>blog</code> repo.</p>

<p>Last step is to get a token from Github for the deploy to occur without your credentials.<br />
Go to your Github settings, Personal access tokens, generate a token.</p>

<p>Go to your <a href="https://app.wercker.com/#applications">Wercker app</a> settings, Deploy targets, add a new target, check <code>auto deploy successful builds to branch(es):</code> and type <code>master</code>.<br />
Add a new variable named <code>GIT_REMOTE</code> check protected and type <code>https://{TOKEN}@github.com/yourusername/blog.git</code> replace <code>{TOKEN}</code> with the token from Github.<br />
You can use this <a href="http://blog.wercker.com/2013/07/25/Using-wercker-to-publish-to-GitHub-pages.html">outdated blogpost from Wercker</a> for the screenshot but don&rsquo;t follow what they said.</p>

<p>You are all set, happy blogging, you can check the exact same config on my repos under my username <a href="http://github.com/akhenakh">Github@akhenakh</a>.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 Aug 2015, 22:36</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/migrate_to_hugo/" class="post-title">Migrate to Hugo</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>This blog is running Hugo with an auto deploy via Wercker and hosted on Github Page.
Take #2</p>

<p>Previous blog was hosted on Google App Engine with a <a href="http://github.com/akhenakh/bloggae">Python blog system</a>, to get the previous articles, I had to run in a small data migration.</p>

<p>Make a backup from GAE admin web interface: Go to Datastore admin and backup your entity mine was Post and then backup to blobstore, go to Blob Viewer and download your file named around <code>datastore_backup_datastore_backup_2015_08_02_Post-157413521680733022360302ADC43E4-output-1-attempt-1</code></p>

<p>I put the migration code I&rsquo;ve used here, it&rsquo;s super ugly but helped me to migrate from GAE to Hugo, so it may be help you too.</p>

<p>I&rsquo;ve used <a href="http://www.aaronsw.com/2002/html2text/">html2text</a> to convert my HTML data back to Markdown.</p>

<pre><code class="language-python">import sys
import os
import json
import html2text
import errno
import datetime

sys.path.append('/usr/local/google_appengine')
from google.appengine.api.files import records
from google.appengine.datastore import entity_pb
from google.appengine.api import datastore

def mkdir_p(path):
    try:
        os.makedirs(path)
    except OSError as exc:
        if exc.errno == errno.EEXIST and os.path.isdir(path):
            pass
        else: raise

raw = open(&quot;datastore&quot;, 'r')
titles = open(&quot;titles.txt&quot;, 'r').readlines()
reader = records.RecordsReader(raw)
i = 0
for record in reader:
    entity_proto = entity_pb.EntityProto(contents=record)
    entity = datastore.Entity.FromPb(entity_proto)

    if entity.get(&quot;status&quot;) == 1:
        path = titles[i].rstrip()
        content = html2text.html2text(entity[&quot;content_html&quot;], &quot;http://blog.nobugware.com/&quot;)
        directory = os.path.dirname(path)
        mkdir_p(&quot;post&quot; + directory)

        # get current local time and utc time
        localnow = datetime.datetime.now()
        utcnow = datetime.datetime.utcnow()

        # compute the time difference in seconds
        tzd = localnow - utcnow
        secs = tzd.days * 24 * 3600 + tzd.seconds

        # get a positive or negative prefix
        prefix = '+'
        if secs &lt; 0:
            prefix = '-'
            secs = abs(secs)

        # print the local time with the difference, correctly formatted
        suffix = &quot;%s%02d:%02d&quot; % (prefix, secs/3600, secs/60%60)
        now = localnow.replace(microsecond=0)
        date = &quot;%s%s&quot; % (entity[&quot;creation_date&quot;].isoformat(' '), suffix)
        tags_string = &quot;&quot;
        tags_cleaned = []
        if entity.get(&quot;tags&quot;) is not None:
            tags = entity.get(&quot;tags&quot;)
            for tag in tags:
                tags_cleaned.append(&quot;\&quot;&quot;+ tag + &quot;\&quot;&quot;)
            tags_string = &quot;,&quot;.join(tags_cleaned)

        print tags_string
        page = &quot;&quot;&quot;+++
date = &quot;%s&quot;
title = &quot;%s&quot;
tags = [%s]
+++

%s
&quot;&quot;&quot; % ( date, entity[&quot;title&quot;] , tags_string, content)
    md=open(&quot;post&quot; + path + &quot;.md&quot;, 'w')
    md.write(page.encode('utf8'))
    md.close()
    i = i + 1
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">02 Apr 2015, 12:49</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2015/04/grafana_influxdb/" class="post-title">A 10 minutes walk into Grafana &amp; Influxdb</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Golang" href="https://blog.nobugware.com/categories/golang">Golang</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>This is a 10 minute tutorial to set up an <a href="http://influxdb.com/">InfluxDB</a> + <a href="http://grafana.org/">Grafana</a> with Go on your Mac, but should work with minor modifcations on your favorite Unix too, it assumes you already have a working Go compiler.</p>

<p><a href="http://influxdb.com/">InfluxDB</a> is a database specialized into time series, think store everything associated with a time, makes it perfect for monitoring and graphing values.
<a href="http://grafana.org/">Grafana</a> is a js frontend capable of reading the data from InfluxDB and graphing it.</p>

<p><code>brew install influxdb</code></p>

<p>Start <a href="http://influxdb.com/">InfluxDB</a>, and then point your browser to <a href="http://localhost:8083">http://localhost:8083</a> default user is root, password is root and default port is 8086.</p>

<p><code>influxdb -config /usr/local/etc/influxdb.conf</code>
Create a database called test.</p>

<p>Let&rsquo;s test the connection with the db and Go, first install the InfluxDB driver for Go:</p>

<p><code>go get github.com/influxdb/influxdb/client</code>
Test your setup with some code:</p>

<pre><code class="language-go">package main

import (
    &quot;fmt&quot;

    &quot;github.com/influxdb/influxdb/client&quot;
)

func main() {
    c, err := client.NewClient(&amp;client.ClientConfig{
        Username: &quot;root&quot;,
        Password: &quot;root&quot;,
        Database: &quot;test&quot;,
    })

    if err != nil {
        panic(err)
    }

    dbs, err := c.GetDatabaseList()
    if err != nil {
        panic(err)
    }

    fmt.Println(dbs)
}
</code></pre>

<p>If you are good you should see a map containing all your created <a href="http://influxdb.com/">InfluxDB</a> databases.</p>

<p>Now let&rsquo;s measure something real: the time it takes for your http handler to answer.</p>

<pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;math/rand&quot;
    &quot;net/http&quot;
    &quot;time&quot;

    &quot;github.com/influxdb/influxdb/client&quot;
)

var c *client.Client

func mySuperFastHandler(rw http.ResponseWriter, r *http.Request) {
    start := time.Now()
    // sleeping some random time
    rand.Seed(time.Now().Unix())
    i := rand.Intn(1000)
    time.Sleep(time.Duration(time.Duration(i) * time.Millisecond))
    fmt.Fprintf(rw, &quot;Waiting %dms&quot;, i)
    t := time.Since(start)

    // sending the serie
    s := &amp;client.Series{
        Name:    &quot;myhostname.nethttp.mySuperFastHandler.resp_time&quot;,
        Columns: []string{&quot;duration&quot;, &quot;code&quot;, &quot;url&quot;, &quot;method&quot;},
        Points: [][]interface{}{
            []interface{}{int64(t / time.Millisecond), 200, r.RequestURI, r.Method},
        },
    }
    err := c.WriteSeries([]*client.Series{s})
    if err != nil {
        log.Println(err)
    }
}

func main() {
    var err error
    c, err = client.NewClient(&amp;client.ClientConfig{
        Username: &quot;root&quot;,
        Password: &quot;root&quot;,
        Database: &quot;test&quot;,
    })
    if err != nil {
        panic(err)
    }

    http.HandleFunc(&quot;/&quot;, mySuperFastHandler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}
</code></pre>

<p>This is not very useful as it&rsquo;s measuring the time to write to the ResponseWriter that&rsquo;s why I&rsquo;ve added some random time but you get the sense.
It will save a serie per request as: duration, status code, url, http method, the name of the serie is important as many tools (as Graphite) are using the dots as separator, so think twice before naming your serie.
Point your browser to <a href="http://localhost:8080">http://localhost:8080</a> and reload the page several times.</p>

<p>Now that we have data let&rsquo;s browse them with the <a href="http://influxdb.com/">InfluxDB</a> browser, go to the <a href="http://influxdb.com/">InfluxDB</a> admin and hit &ldquo;explore data&rdquo; and select with:</p>

<p><code>SELECT duration FROM myhostname.nethttp.mySuperFastHandler.resp_time WHERE code = 200;</code></p>

<p><img src="http://kdl.nobugware.com/public/shotinflux.png" alt="Image Alt" /></p>

<p>You should be able to see the inserted data points.</p>

<p>Now let&rsquo;s work with <a href="http://grafana.org/">Grafana</a>, download the tar gz, uncompress it somewhere, <a href="https://gist.githubusercontent.com/akhenakh/39e1950bf95859878748/raw/f8b0531d88cfb481213541253329c5730c4a2b06/config.js">copy this demo config.js</a> file in the root directory of <a href="http://grafana.org/">Grafana</a>.
Go to the <a href="http://influxdb.com/">InfluxDB</a> admin with your browser and add a new database called &ldquo;grafana&rdquo;.</p>

<p>In your web browser, open the file index.html in the <a href="http://grafana.org/">Grafana</a> directory, you should see a the <a href="http://grafana.org/">Grafana</a> interface edit the default graph, enter the query as follow:</p>

<ul>
<li>click on series it will complete with myhostname.nethttp.mySuperFastHandler.resp_time</li>
<li>In alias type $0 $2, it will use the 1st part and the 3rd part of the name (remember the dots) so it will display myhostname mySuperFastHandler</li>
<li>Finally click on mean and choose duration in the completion, then add code = 200 as where clause.<br /></li>
</ul>

<p>Hit save and you are done !</p>

<p><img src="http://kdl.nobugware.com/public/shotgrafana.png" alt="Image Alt" /></p>

<p>There is so much more you can do with <a href="http://influxdb.com/">InfluxDB</a> &amp; <a href="http://grafana.org/">Grafana</a>, it&rsquo;s really simple to collect and display, hope you want to go further after this.
You can look at my <a href="https://github.com/akhenakh/influxhandler">generic net/http handler for <a href="http://influxdb.com/">InfluxDB</a> on Github</a> that can be integrated into your code.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">02 Jan 2015, 17:50</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2015/01/02/run-a-full-wikipedia-copy-from-any-computers/" class="post-title">Run a full Wikipedia copy from any computers</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Golang" href="https://blog.nobugware.com/categories/golang">Golang</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Today I&rsquo;m releasing <a href="http://akhenakh.github.io/gozim/">Gozim</a> a side project
written in Go.</p>

<p>It&rsquo;s a set of tools to serve ZIM files, (compressed copy of Wiki articles),
use it to run your full copy of Wikipedia off the grid.</p>

<p>It runs great on a small computer as the Raspberry Pi or your own laptop.</p>

<p>It could be a solution to give access to knowledge in countries without stable
internet connections.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">13 Dec 2014, 07:55</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2014/12/13/airspy-on-linux/" class="post-title">Airspy on Linux</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-HamRadio" href="https://blog.nobugware.com/categories/hamradio">HamRadio</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p><a href="http://airspy.com">Airspy</a> is an SDR with amazing specs, but drivers are
slowly coming to your prefered os.</p>

<p>This apply to Arch but should apply to any recent Linux.</p>

<p>I&rsquo;ve first compiled libairspy but always had the error
<code>AIRSPY_ERROR_NOT_FOUND</code> and <code>&quot;usbfs: interface 0 claimed by airspy while
'airspy_info' sets config #1&quot;</code></p>

<p>Since Linux 3.17  comes with an airspy v4l autoloaded driver making impossible
to use it with libusb: no airspy_info and no gqrx.</p>

<p>Simply get rid of it with a modprobe config like /etc/modprobe.d/airspy.conf</p>

<p><code>blacklist airspy</code></p>

<p>You need some deps: the <a href="https://github.com/airspy/host">airspy lib</a>,
<a href="http://sdr.osmocom.org/trac/wiki/GrOsmoSDR">gnuradio-osmosdr (gr-osmosdr)</a>
and a recent <a href="https://github.com/csete/gqrx">gqrx</a></p>

<p>Here are <a href="https://drive.google.com/file/d/0B4clDbhSrtODR2xNV0
lsWEVud00/view?usp=sharing">my Arch AUR pkg</a> that will build airspy-git, gr-osmosdr-git and
gqrx-git (note that you need to uninstall the packages from community to avoid
conflict).</p>

<p>Have fun</p>

<p><img src="http://kdl.nobugware.com/public/airpsy.jpg" alt="" /></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Nov 2014, 20:29</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2014/11/28/freebsd-on-google-compute-engine/" class="post-title">FreeBSD on Google Compute Engine</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-FreeBSD" href="https://blog.nobugware.com/categories/freebsd">FreeBSD</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>First you need to create a VirtualBox FreeBSD install using a 10G qcow format,
use an SCSI controller for the install as the disk will be visible as da0
inside GCE.</p>

<p>On FreeBSD 10.1 I had to load virtio manually, so set this in
/boot/loader.conf</p>

<pre><code>`virtio_load=&quot;YES&quot;
virtio_pci_load=&quot;YES&quot;
virtio_blk_load=&quot;YES&quot;
if_vtnet_load=&quot;YES&quot;`
</code></pre>

<p>Copy your ssh key in your home user .ssh/authorized_keys, be sure to be in the
wheel group.</p>

<p>On a Mac you need to install GNU tar (brew install gnu-tar), shutdown your
VirtualBox vm and upload your image to GCE</p>

<pre><code>`VBoxManage clonehd -format RAW ../VirtualBox\ VMs/FreeBSDGCE/BSDGCE.qcow
~/Downloads/disk.raw
gtar -Szcf freebsd.tar.gz disk.raw
gsutil mb gs://bsdimage
gsutil cp freebsd.tar.gz gs://bsdimage/gce-bsd.tar.gz
gcutil addimage freebsd  gs://bsdimage/gce-bsd.tar.gz`
</code></pre>

<p>You should now see &ldquo;freebsd&rdquo; as available install image in your console</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Jul 2014, 17:36</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2014/07/28/simple-aprs/" class="post-title">Simple APRS KK6NXK</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-HamRadio" href="https://blog.nobugware.com/categories/hamradio">HamRadio</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p><a href="http://en.wikipedia.org/wiki/Automatic_Packet_Reporting_System">APRS</a> is a
tactical digital communications system used between amateurs radio, to
exchange positions &amp; messages, here I blog my experience decoding/encoding
APRS with a small Arduino as it may help some of you too.</p>

<p>Some transceivers are incorporating this functionalities but most of them
don&rsquo;t, a lot of new technicians start with cheap Baofeng radios (30$) which
don&rsquo;t provide advanced functionnalities but here is a way to solve that.</p>

<p>I&rsquo;ve first looked at<a href="http://www.bertos.org/use/examples-
projects/arduino-aprs"> Bertos project</a>, a realtime os for micro controllers as Atmel 328p
(Arduinos), you can see my 1st attempt there:</p>

<p><img src="https://pbs.twimg.com/media/BqjGj33CMAArdHc.jpg" alt="" /></p>

<p>This was the receiver only, a simple divider, the &ldquo;hard&rdquo; part was to
understand the <a href="http://www.miklor.com/COM/UV_Technical.php">Baofeng/Kenwood mic
jacks</a>.</p>

<p>It takes me a long time to figure out that the Baofeng was too slow to trigger
the squelch, so the Arduino missed the beginning of the message, hopefully I
have a Kenwood too &hellip;</p>

<p>So for a Baofeng using this kind of APRS decoder, you have to disable the
squelsh completly, and set the volume very high it has to reach a proper
signal on the arduino around -3v/+3v.</p>

<p>For the <a href="http://en.wikipedia.org/wiki/Frequency-shift_keying">AFSK</a>
modulation, the Bertos project use a DAC made with 4 resistors.</p>

<p>Later, I&rsquo;ve discovered the wonderful work of Mark Qvist
<a href="https://github.com/markqvist/MicroAPRS">MicroAPRS</a>, mostly the same circuit
as the Bertos project but with an awesome documentation of the code, it&rsquo;s a
pleasure to read &amp; learn.</p>

<p>So I&rsquo;ve started to work on a circuit using a <a href="http://www.dfrobot.c
om/index.php?route=product/product&amp;product_id=1122&amp;search=blu+nano&amp;description
=true">Bluno Nano</a> an Arduino Nano with Bluetooth Low Energy, as an iPhone developer, this
piece of electronics is just incredible and gives me the capabilites to
connect my circuits to iphone Apps.</p>

<p><img src="http://kdl.nobugware.com/public/IMG_3512.JPG" alt="" /></p>

<p>It&rsquo;s working but hardly a mobile solution :)</p>

<p>Later I&rsquo;ve designed a PCB for it you can find the full Gerber files in <a href="https://github.com/akhenakh/nanoAPRS">my Github</a>.</p>

<p><img src="https://pbs.twimg.com/media/BsKZ_uGCUAAiDed.png" alt="" /><img src="http://kdl.nobugware.c
om/public/nano.jpg" alt="" /></p>

<p>I&rsquo;m using <a href="http://fritzing.org/">Frizting</a> to design and then export to
<a href="https://oshpark.com/">OSHPark</a> for the PCB manufacturing, it&rsquo;s far from
perfect but I will improve the circuit and publish it soon !</p>

<p>This plus an iPhone app and you&rsquo;ll rock APRS !</p>

<p>73 de KK6NXK</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">08 Jul 2014, 01:22</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.nobugware.com/post/2014/07/08/got-my-amateur-radio-license-kk6nxk/" class="post-title">Got my amateur radio license KK6NXK</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-HamRadio" href="https://blog.nobugware.com/categories/hamradio">HamRadio</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When I was a young child, I remember listening to an old radio receiver with
my grandfather, looking for morse transmission.</p>

<p>30 years later, I take the opportunity to get my radio amateur license in the
US, it was not difficult (Technicial license is easy), especially cause US
radio amateurs are using the metric system (almost all the time &hellip;), the only
difficulties were to learn some terms and simple formulas from french to
english and to know some parts of regulation by heart (I have never been able
to learn by heart).</p>

<p>A lot of people keep asking me why are you doing this? Do you want to speak to
a microphone to a stranger?</p>

<p>First why not, it&rsquo;s not the craziest thing I&rsquo;ve ever done :)</p>

<p>Then they probably have forgotten that every single piece of technology today
are using radio waves, from your 4G phone to wifi to Bluetooth, learning and
understanding that is really useful.</p>

<p>For example Radio amateur bands overlap some of the &ldquo;civil&rdquo; bands, it gives
some extended privileges to a radio amateur to experiment with long distance
wifi transmissions.</p>

<p>So it&rsquo;s not just about voice but data too.</p>

<p>Another aspect is electronic, a lot of radio amateur are sharing hardware and
electronic circuits to build your own receiver/transceiver, before it was cool
on the Internet.</p>

<p>Learning electronic to build something real is a lot more rewarding than it
was at school&hellip;</p>

<p>Even without a license this is a brand new world to explore, <a href="http://www.rtl-sdr.com/rtl-sdr-tutorial-
receiving-noaa-weather-satellite-images/">receiving
satellite images of the Earth</a> is one of the many possibilities you
can get entering radio world.</p>

<p>This is the beginning of a new knowledge branch to conquer !</p>

<p>See my work on an<a href="http://kdl.nobugware.com/post/2014/07/28/simple-aprs"> APRS bluetooth
Modem</a></p>

<p>73 de KK6NXK</p>

<p>By the way in french it&rsquo;s radio amateur and not amateur radio :)</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="https://blog.nobugware.com/page/3/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 4 of 9</span>
    
      <a href="https://blog.nobugware.com/page/5/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://blog.nobugware.com/js/all.min.js"></script>
        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1245966-1', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
