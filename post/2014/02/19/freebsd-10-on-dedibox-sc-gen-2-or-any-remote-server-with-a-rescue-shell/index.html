<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.123.7"><title>FreeBSD 10 on Dedibox SC gen 2 or any remote server with a rescue shell - Fabrice Aneche</title>
<meta name=description content="FreeBSD 10 is out and it&rsquo;s time to replace your Linux boxes ![cheeky](http://k dl.nobugware.com/static/ckeditor/plugins/smiley/images/tongue_smile.gif)
SC gen 2 is a VIA U2250 with 2Gb memory.
Start the rescue shell in amd64 12.04 Ubuntu, connect to the box via SSH with the temporary password
sudo -s cd /tmp wget http://ftp1.fr.freebsd.org/pub/FreeBSD/snapshots/ISO- IMAGES/10.0/FreeBSD-10.0-STABLE-amd64-20140216-r261948-disc1.iso apt-get update apt-get install qemu-kvm sudo qemu-system-x86_64 -no-kvm -hda /dev/sda -cdrom ./FreeBSD-10.0-STABLE- amd64-20140216-r261948-disc1.iso -net nic,model=e1000 -vnc :1,yourpassword -boot d This install qemu and run the FreeBSD installer from the downloaded CD."><link rel=stylesheet href=https://blog.nobugware.com/css/ui.css><script defer src=https://blog.nobugware.com/js/dark-mode.js></script><link disabled id=dark-mode-theme rel=stylesheet href=https://blog.nobugware.com/css/dark.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Mono|Lato|Raleway"><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/ocean.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/go.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/yaml.min.js></script></head><body><header class="container no-print"><div class=u-header><nav class=bar><ul><li><a href=https://blog.nobugware.com/><img class=icon-text src=https://blog.nobugware.com/img/prev.svg></a></li><li><img class=icon-text id=dark-mode-toggle src=https://blog.nobugware.com/img/moon-regular.svg alt="Toggle Dark Mode"></a></li><li><a href=https://blog.nobugware.com/about>About</a></li><li><a href=https://blog.nobugware.com/post/>Post</a></li></ul></nav></div></header><main class=container><article><header><hgroup id=brand><h1>FreeBSD 10 on Dedibox SC gen 2 or any remote server with a rescue shell</h1><h5><time datetime="2014-02-19 05:05:20.35974 -0400 -0400">Feb 19, 2014</time>
<span class=no-print>-
<a href=https://blog.nobugware.com/tags/freebsd%20dedibox>freebsd dedibox</a>
<span></h5></hgroup><hr class=sep></header><p>FreeBSD 10 is out and it&rsquo;s time to replace your Linux boxes ![cheeky](http://k
dl.nobugware.com/static/ckeditor/plugins/smiley/images/tongue_smile.gif)</p><p>SC gen 2 is a VIA U2250 with 2Gb memory.</p><p>Start the rescue shell in amd64 12.04 Ubuntu, connect to the box via SSH with
the temporary password</p><pre tabindex=0><code>sudo -s
cd /tmp
wget http://ftp1.fr.freebsd.org/pub/FreeBSD/snapshots/ISO-
IMAGES/10.0/FreeBSD-10.0-STABLE-amd64-20140216-r261948-disc1.iso
apt-get update
apt-get install qemu-kvm

sudo qemu-system-x86_64 -no-kvm -hda /dev/sda -cdrom ./FreeBSD-10.0-STABLE-
amd64-20140216-r261948-disc1.iso -net nic,model=e1000 -vnc :1,yourpassword
-boot d
</code></pre><p>This install qemu and run the FreeBSD installer from the downloaded CD.</p><p>Run a VNC client on your computer and connect to your dedibox ip, you should
watch FreeBSD boot from the CDROM.</p><p>Complete a normal installation, at the end it will ask if you want to run a
shell **answer is YES **and then type this to reinstall the bootloader.</p><p>If you are using UFS (default)</p><p><code>fdisk -B -b /boot/boot0 /dev/ada0</code></p><p>If you are using ZFS:</p><p><code>gpart bootcode -b /boot/pmbr -p /boot/gptzfsboot -i 1 ada0</code></p><p>Type exit and reboot to the normal mode.</p><p>Happy FreeBSD !</p><p>Further notes:</p><ul><li>If you are not using ZFS, you can enable softupdate and TRIM as the SC gen 2 contains an hybrid SSD, you should theoretically have better performance</li><li>The last fdisk command is not the normal process but it was the only way I get it boot</li><li>Do not use qemu with KVM as there is a bug with this particular cpu, so yes the installation will be dead slow</li><li>The DHCP won&rsquo;t answer it&rsquo;s ok</li></ul></article><nav class="no-print post-nav"><a class=prev-post href=https://blog.nobugware.com/post/2014/01/30/freebsd-on-raspberry-pi/><img class=icon-text src=https://blog.nobugware.com/img/prev.svg>FreeBSD on RaspBerry Pi</a>
<a class=next-post href=https://blog.nobugware.com/post/2014/07/08/got-my-amateur-radio-license-kk6nxk/>Got my amateur radio license KK6NXK<img class=icon-text src=https://blog.nobugware.com/img/next.svg></a></nav><hr class=sep></main><footer class="container no-print"><div class=u-footer><a href=https://github.com/akhenakh/><img class=icon-social src=https://blog.nobugware.com/img/github.svg alt=Github></a>
<a href=https://c.im/@akhenakh><img class=icon-social src=https://blog.nobugware.com/img/mastodon.svg alt=Mastodon></a>
<a href=https://twitter.com/akhenakh><img class=icon-social src=https://blog.nobugware.com/img/twitter.svg alt=Twitter></a><p>Theme used: <a href=https://github.com/yursan9/manis-hugo-theme>Manis</a><br></p><a href=#brand><img class=icon-text src=https://blog.nobugware.com/img/toup.svg alt="To Up">
<span>Back to Up</span></a></div></footer><script async src=https://us.umami.is/script.js data-website-id=1566cf98-efb9-475c-b96e-709666a74819></script><script>hljs.initHighlightingOnLoad()</script></body></html>